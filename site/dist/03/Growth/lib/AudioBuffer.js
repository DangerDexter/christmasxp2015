function AudioBuffer(t,o){this.loadingEvents=[],this.loadEvents=[],this.percentLoaded=0;var e=new XMLHttpRequest;e.open("GET",o,!0),e.responseType="arraybuffer";var n=this;e.onerror=function(){alert("ERROR LOADING SONG")},e.onprogress=this.loadProgress.bind(this);var n=this;this.ctx=t,this.file=o,e.onload=function(){n.ctx.decodeAudioData(e.response,function(t){return t?(n.buffer=t,void n.load()):void alert("error decoding file data: "+url)})},e.send()}AudioBuffer.prototype.loadProgress=function(t){this.percentLoaded=t.loaded/t.total;for(var o=0;o<this.loadingEvents.length;o++)this.loadingEvents[o](this.percentLoaded)},AudioBuffer.prototype.load=function(){for(var t=0;t<this.loadEvents.length;t++)this.loadEvents[t]()},AudioBuffer.prototype.addLoadingEvent=function(t){this.loadingEvents.push(t)},AudioBuffer.prototype.addLoadEvent=function(t){this.loadEvents.push(t)};