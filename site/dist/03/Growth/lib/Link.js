var Link=function(t,e,i,s,a,r,h,o){var m=new THREE.ShaderMaterial({uniforms:{time:e.time,lightPosition1:e.lightPosition1,lightPosition2:e.lightPosition2,parameter1:{type:"f",value:.5},parameter2:{type:"f",value:.5},parameter3:{type:"f",value:.5},parameter4:{type:"f",value:.5},parameter5:{type:"f",value:.5},parameter6:{type:"f",value:.5},iModelMat:{type:"m4",value:new THREE.Matrix4},color:{type:"v3",value:o},lightColor1:e.lightColor1,lightColor2:e.lightColor2},vertexShader:shaders.vs.holo,fragmentShader:i,transparent:!0,shading:THREE.FlatShading});this.mesh=new THREE.Mesh(t,m),this.mesh.position.copy(r),scene.add(this.mesh),this.mesh.hoverOver=this.hoverOver.bind(this),this.mesh.hoverOut=this.hoverOut.bind(this),this.mesh.select=this.select.bind(this),objectControls.add(this.mesh),this.text=createTextMesh(.5,a),scene.add(this.text),this.text.material.opacity=0,this.textPos=h,this.update(),this.wireframe=new THREE.Mesh(t,new THREE.MeshBasicMaterial({wireframe:!0,transparent:!0})),this.mesh.add(this.wireframe),this.wireframe.material.opacity=0,this.select=s};Link.prototype.update=function(){this.mesh.updateMatrixWorld(),this.mesh.material.uniforms.iModelMat.value.getInverse(this.mesh.matrixWorld),this.mesh.material.uniforms.parameter1.value=this.mesh.position.x,this.mesh.material.uniforms.parameter2.value=this.mesh.position.y,this.mesh.material.uniforms.parameter3.value=this.mesh.position.z,this.mesh.material.uniforms.parameter4.value=this.mesh.rotation.x,this.mesh.material.uniforms.parameter5.value=this.mesh.rotation.y,this.mesh.material.uniforms.parameter6.value=this.mesh.rotation.z,this.text.position.copy(this.mesh.position),this.text.position.add(this.textPos)},Link.prototype.updateColor=function(t){this.mesh.material.uniforms.color.value.copy(t)},Link.prototype.hoverOver=function(){console.log("HELLOS"),console.log(this),this.text.material.opacity=1,this.wireframe.material.opacity=1},Link.prototype.hoverOut=function(){this.text.material.opacity=0,this.wireframe.material.opacity=0},Link.prototype.select=function(){this.select()};